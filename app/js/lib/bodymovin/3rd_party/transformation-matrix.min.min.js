function Matrix(){}var Matrix=function(){function s(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function p(s){if(0===s)return this;var p=Math.cos(s),t=Math.sin(s);return this._t(p,-t,0,0,t,p,0,0,0,0,1,0,0,0,0,1)}function t(s){if(0===s)return this;var p=Math.cos(s),t=Math.sin(s);return this._t(1,0,0,0,0,p,-t,0,0,t,p,0,0,0,0,1)}function r(s){if(0===s)return this;var p=Math.cos(s),t=Math.sin(s);return this._t(p,0,t,0,0,1,0,0,-t,0,p,0,0,0,0,1)}function i(s){if(0===s)return this;var p=Math.cos(s),t=Math.sin(s);return this._t(p,-t,0,0,t,p,0,0,0,0,1,0,0,0,0,1)}function o(s,p){return this._t(1,p,s,1,0,0)}function h(s,p){return this.shear(Math.tan(s),Math.tan(p))}function n(s,p){var t=Math.cos(p),r=Math.sin(p);return this._t(t,r,0,0,-r,t,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Math.tan(s),1,0,0,0,0,1,0,0,0,0,1)._t(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1)}function a(s,p,t){return t=isNaN(t)?1:t,1==s&&1==p&&1==t?this:this._t(s,0,0,0,0,p,0,0,0,0,t,0,0,0,0,1)}function u(s,p,t,r,i,o,h,n,a,u,e,c,f,l,m,T){return this.props[0]=s,this.props[1]=p,this.props[2]=t,this.props[3]=r,this.props[4]=i,this.props[5]=o,this.props[6]=h,this.props[7]=n,this.props[8]=a,this.props[9]=u,this.props[10]=e,this.props[11]=c,this.props[12]=f,this.props[13]=l,this.props[14]=m,this.props[15]=T,this}function e(s,p,t){return t=t||0,0!==s||0!==p||0!==t?this._t(1,0,0,0,0,1,0,0,0,0,1,0,s,p,t,1):this}function c(s,p,t,r,i,o,h,n,a,u,e,c,f,l,m,T){if(1===s&&0===p&&0===t&&0===r&&0===i&&1===o&&0===h&&0===n&&0===a&&0===u&&1===e&&0===c)return 0===f&&0===l&&0===m||(this.props[12]=this.props[12]*s+this.props[13]*i+this.props[14]*a+this.props[15]*f,this.props[13]=this.props[12]*p+this.props[13]*o+this.props[14]*u+this.props[15]*l,this.props[14]=this.props[12]*t+this.props[13]*h+this.props[14]*e+this.props[15]*m,this.props[15]=this.props[12]*r+this.props[13]*n+this.props[14]*c+this.props[15]*T),this;var d=this.props[0],D=this.props[1],M=this.props[2],_=this.props[3],v=this.props[4],y=this.props[5],P=this.props[6],x=this.props[7],S=this.props[8],A=this.props[9],g=this.props[10],b=this.props[11],j=this.props[12],k=this.props[13],w=this.props[14],C=this.props[15];return this.props[0]=d*s+D*i+M*a+_*f,this.props[1]=d*p+D*o+M*u+_*l,this.props[2]=d*t+D*h+M*e+_*m,this.props[3]=d*r+D*n+M*c+_*T,this.props[4]=v*s+y*i+P*a+x*f,this.props[5]=v*p+y*o+P*u+x*l,this.props[6]=v*t+y*h+P*e+x*m,this.props[7]=v*r+y*n+P*c+x*T,this.props[8]=S*s+A*i+g*a+b*f,this.props[9]=S*p+A*o+g*u+b*l,this.props[10]=S*t+A*h+g*e+b*m,this.props[11]=S*r+A*n+g*c+b*T,this.props[12]=j*s+k*i+w*a+C*f,this.props[13]=j*p+k*o+w*u+C*l,this.props[14]=j*t+k*h+w*e+C*m,this.props[15]=j*r+k*n+w*c+C*T,this}function f(s){var p;for(p=0;p<16;p+=1)s.props[p]=this.props[p]}function l(s){var p;for(p=0;p<16;p+=1)this.props[p]=s[p]}function m(s,p,t){return{x:s*this.props[0]+p*this.props[4]+t*this.props[8]+this.props[12],y:s*this.props[1]+p*this.props[5]+t*this.props[9]+this.props[13],z:s*this.props[2]+p*this.props[6]+t*this.props[10]+this.props[14]}}function T(s,p,t){return s*this.props[0]+p*this.props[4]+t*this.props[8]+this.props[12]}function d(s,p,t){return s*this.props[1]+p*this.props[5]+t*this.props[9]+this.props[13]}function D(s,p,t){return s*this.props[2]+p*this.props[6]+t*this.props[10]+this.props[14]}function M(s){var p,t=this.props[0]*this.props[5]-this.props[1]*this.props[4],r=this.props[5]/t,i=-this.props[1]/t,o=-this.props[4]/t,h=this.props[0]/t,n=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,u=s.length,e=[];for(p=0;p<u;p+=1)e[p]=[s[p][0]*r+s[p][1]*o+n,s[p][0]*i+s[p][1]*h+a,0];return e}function _(s,p,t){return[s*this.props[0]+p*this.props[4]+t*this.props[8]+this.props[12],s*this.props[1]+p*this.props[5]+t*this.props[9]+this.props[13],s*this.props[2]+p*this.props[6]+t*this.props[10]+this.props[14]]}function v(s,p){return bm_rnd(s*this.props[0]+p*this.props[4]+this.props[12])+","+bm_rnd(s*this.props[1]+p*this.props[5]+this.props[13])}function y(){return[this.props[0],this.props[1],this.props[2],this.props[3],this.props[4],this.props[5],this.props[6],this.props[7],this.props[8],this.props[9],this.props[10],this.props[11],this.props[12],this.props[13],this.props[14],this.props[15]]}function P(){return isSafari?"matrix3d("+roundTo2Decimals(this.props[0])+","+roundTo2Decimals(this.props[1])+","+roundTo2Decimals(this.props[2])+","+roundTo2Decimals(this.props[3])+","+roundTo2Decimals(this.props[4])+","+roundTo2Decimals(this.props[5])+","+roundTo2Decimals(this.props[6])+","+roundTo2Decimals(this.props[7])+","+roundTo2Decimals(this.props[8])+","+roundTo2Decimals(this.props[9])+","+roundTo2Decimals(this.props[10])+","+roundTo2Decimals(this.props[11])+","+roundTo2Decimals(this.props[12])+","+roundTo2Decimals(this.props[13])+","+roundTo2Decimals(this.props[14])+","+roundTo2Decimals(this.props[15])+")":(this.cssParts[1]=this.props.join(","),this.cssParts.join(""))}function x(){return"matrix("+this.props[0]+","+this.props[1]+","+this.props[4]+","+this.props[5]+","+this.props[12]+","+this.props[13]+")"}function S(){return""+this.toArray()}return function(){this.reset=s,this.rotate=p,this.rotateX=t,this.rotateY=r,this.rotateZ=i,this.skew=h,this.skewFromAxis=n,this.shear=o,this.scale=a,this.setTransform=u,this.translate=e,this.transform=c,this.applyToPoint=m,this.applyToX=T,this.applyToY=d,this.applyToZ=D,this.applyToPointArray=_,this.applyToPointStringified=v,this.toArray=y,this.toCSS=P,this.to2dCSS=x,this.toString=S,this.clone=f,this.cloneFromProps=l,this.inversePoints=M,this._t=this.transform,this.props=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.cssParts=["matrix3d(","",")"]}}();