function CVMaskElement(e,t){this.data=e,this.element=t,this.dynamicProperties=[],this.masksProperties=this.data.masksProperties,this.viewData=new Array(this.masksProperties.length);var i,a=this.masksProperties.length;for(i=0;i<a;i++)this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3,this.dynamicProperties,null)}CVMaskElement.prototype.getMaskProperty=function(e){return this.viewData[e]},CVMaskElement.prototype.prepareFrame=function(e){var t,i=this.dynamicProperties.length;for(t=0;t<i;t+=1)this.dynamicProperties[t].getValue(e),this.dynamicProperties[t].mdf&&(this.element.globalData.mdf=!0)},CVMaskElement.prototype.renderFrame=function(e){var t,i,a,o,r,s=this.element.canvasContext,n=this.data.masksProperties.length,p=!1;for(t=0;t<n;t++)if("n"!==this.masksProperties[t].mode){p===!1&&(s.beginPath(),p=!0),this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compWidth,0),s.lineTo(this.element.globalData.compWidth,this.element.globalData.compHeight),s.lineTo(0,this.element.globalData.compHeight),s.lineTo(0,0)),r=this.viewData[t].v,i=e?e.applyToPointArray(r.v[0][0],r.v[0][1],0):r.v[0],s.moveTo(i[0],i[1]);var l,h=r.v.length;for(l=1;l<h;l++)i=e?e.applyToPointArray(r.o[l-1][0],r.o[l-1][1],0):r.o[l-1],a=e?e.applyToPointArray(r.i[l][0],r.i[l][1],0):r.i[l],o=e?e.applyToPointArray(r.v[l][0],r.v[l][1],0):r.v[l],s.bezierCurveTo(i[0],i[1],a[0],a[1],o[0],o[1]);i=e?e.applyToPointArray(r.o[l-1][0],r.o[l-1][1],0):r.o[l-1],a=e?e.applyToPointArray(r.i[0][0],r.i[0][1],0):r.i[0],o=e?e.applyToPointArray(r.v[0][0],r.v[0][1],0):r.v[0],s.bezierCurveTo(i[0],i[1],a[0],a[1],o[0],o[1])}p&&s.clip()},CVMaskElement.prototype.getMask=function(e){for(var t=0,i=this.masksProperties.length;t<i;){if(this.masksProperties[t].nm===e)return{maskPath:this.viewData[t].pv};t+=1}},CVMaskElement.prototype.destroy=function(){this.element=null};