function CVImageElement(t,a,e){this.assetData=e.getAssetData(t.refId),this._parent.constructor.call(this,t,a,e),this.globalData.addPendingElement()}createElement(CVBaseElement,CVImageElement),CVImageElement.prototype.createElements=function(){var t=function(){if(this.globalData.elementLoaded(),this.assetData.w!==this.img.width||this.assetData.h!==this.img.height){var t=document.createElement("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var a,e,s=t.getContext("2d"),i=this.img.width,h=this.img.height,r=i/h,n=this.assetData.w/this.assetData.h;r>n?(e=h,a=e*n):(a=i,e=a/n),s.drawImage(this.img,(i-a)/2,(h-e)/2,a,e,0,0,this.assetData.w,this.assetData.h),this.img=t}}.bind(this),a=function(){this.failed=!0,this.globalData.elementLoaded()}.bind(this);this.img=new Image,this.img.addEventListener("load",t,!1),this.img.addEventListener("error",a,!1);var e=this.globalData.getAssetsPath(this.assetData);this.img.src=e,this._parent.createElements.call(this)},CVImageElement.prototype.renderFrame=function(t){if(!this.failed&&this._parent.renderFrame.call(this,t)!==!1){var a=this.canvasContext;this.globalData.renderer.save();var e=this.finalTransform.mat.props;this.globalData.renderer.ctxTransform(e),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),a.drawImage(this.img,0,0),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},CVImageElement.prototype.destroy=function(){this.img=null,this._parent.destroy.call()};