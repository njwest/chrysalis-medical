var ImagePreloader=function(){function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages}function s(t){var s="";if(this.assetsPath){var e=t.p;e.indexOf("images/")!==-1&&(e=e.split("/")[1]),s=this.assetsPath+e}else s=this.path,s+=t.u?t.u:"",s+=t.p;return s}function e(s){var e=document.createElement("img");e.addEventListener("load",t.bind(this),!1),e.addEventListener("error",t.bind(this),!1),e.src=s}function i(t){this.totalAssets=t.length;var i;for(i=0;i<this.totalAssets;i+=1)t[i].layers||(e.bind(this)(s.bind(this)(t[i])),this.totalImages+=1)}function a(t){this.path=t||""}function h(t){this.assetsPath=t||""}return function(){this.loadAssets=i,this.setAssetsPath=h,this.setPath=a,this.assetsPath="",this.path="",this.totalAssets=0,this.totalImages=0,this.loadedAssets=0}}();