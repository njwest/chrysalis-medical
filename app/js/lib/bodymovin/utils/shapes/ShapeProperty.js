var ShapePropertyFactory=function(){function t(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t=this.comp.renderedFrame-this.offsetTime;if(this.lastFrame!==r&&(this.lastFrame<this.keyframes[0].t-this.offsetTime&&t<this.keyframes[0].t-this.offsetTime||this.lastFrame>this.keyframes[this.keyframes.length-1].t-this.offsetTime&&t>this.keyframes[this.keyframes.length-1].t-this.offsetTime));else{var i,s,h;if(t<this.keyframes[0].t-this.offsetTime)i=this.keyframes[0].s[0],h=!0;else if(t>=this.keyframes[this.keyframes.length-1].t-this.offsetTime)i=1===this.keyframes[this.keyframes.length-2].h?this.keyframes[this.keyframes.length-1].s[0]:this.keyframes[this.keyframes.length-2].e[0],h=!0;else{for(var e,v,a,o,n,l,p=0,m=this.keyframes.length-1,f=!0;f&&(e=this.keyframes[p],v=this.keyframes[p+1],!(v.t-this.offsetTime>t));)p<m-1?p+=1:f=!1;h=1===e.h,h&&p===m&&(e=v);var y;if(!h){var c;e.__fnct?c=e.__fnct:(c=BezierFactory.getBezierEasing(e.o.x,e.o.y,e.i.x,e.i.y).get,e.__fnct=c),y=t>=v.t-this.offsetTime?1:t<e.t-this.offsetTime?0:c((t-(e.t-this.offsetTime))/(v.t-this.offsetTime-(e.t-this.offsetTime))),s=e.e[0]}i=e.s[0]}o=this.v.i.length,l=i.i[0].length;var d,g=!1;for(a=0;a<o;a+=1)for(n=0;n<l;n+=1)h?(d=i.i[a][n],this.v.i[a][n]!==d&&(this.v.i[a][n]=d,this.pv.i[a][n]=d,g=!0),d=i.o[a][n],this.v.o[a][n]!==d&&(this.v.o[a][n]=d,this.pv.o[a][n]=d,g=!0),d=i.v[a][n],this.v.v[a][n]!==d&&(this.v.v[a][n]=d,this.pv.v[a][n]=d,g=!0)):(d=i.i[a][n]+(s.i[a][n]-i.i[a][n])*y,this.v.i[a][n]!==d&&(this.v.i[a][n]=d,this.pv.i[a][n]=d,g=!0),d=i.o[a][n]+(s.o[a][n]-i.o[a][n])*y,this.v.o[a][n]!==d&&(this.v.o[a][n]=d,this.pv.o[a][n]=d,g=!0),d=i.v[a][n]+(s.v[a][n]-i.v[a][n])*y,this.v.v[a][n]!==d&&(this.v.v[a][n]=d,this.pv.v[a][n]=d,g=!0));this.mdf=g,this.paths.length=0,this.v.c=i.c,this.paths[0]=this.v}this.lastFrame=t,this.frameId=this.elem.globalData.frameId}}function i(){return this.v}function s(){this.paths.length?(this.paths.length=1,this.paths[0]=this.v):this.paths=[this.v],this.k||(this.mdf=!1)}function h(t,h,e){this.comp=t.comp,this.k=!1,this.mdf=!1,this.numNodes=3===e?h.pt.k.v.length:h.ks.k.v.length,this.v=3===e?h.pt.k:h.ks.k,this.getValue=i,this.pv=this.v,this.paths=[this.v],this.reset=s}function e(i,h,e){this.comp=i.comp,this.elem=i,this.offsetTime=i.data.st,this.getValue=t,this.keyframes=3===e?h.pt.k:h.ks.k,this.k=!0;var v,a=this.keyframes[0].s[0].i.length,o=this.keyframes[0].s[0].i[0].length;for(this.numNodes=a,this.v={i:Array.apply(null,{length:a}),o:Array.apply(null,{length:a}),v:Array.apply(null,{length:a}),c:this.keyframes[0].s[0].c},this.pv={i:Array.apply(null,{length:a}),o:Array.apply(null,{length:a}),v:Array.apply(null,{length:a}),c:this.keyframes[0].s[0].c},v=0;v<a;v+=1)this.v.i[v]=Array.apply(null,{length:o}),this.v.o[v]=Array.apply(null,{length:o}),this.v.v[v]=Array.apply(null,{length:o}),this.pv.i[v]=Array.apply(null,{length:o}),this.pv.o[v]=Array.apply(null,{length:o}),this.pv.v[v]=Array.apply(null,{length:o});this.paths=[],this.lastFrame=r,this.reset=s}function v(t,i,s,v){var r;if(3===s||4===s){var l=3===s?i.pt.k:i.ks.k;r=l.length?new e(t,i,s):new h(t,i,s)}else 5===s?r=new n(t,i):6===s?r=new a(t,i):7===s&&(r=new o(t,i));return r.k&&v.push(r),r}var r=-999999,a=function(){function t(){var t=this.p.v[0],i=this.p.v[1],s=this.s.v[0]/2,e=this.s.v[1]/2;2!==this.d&&3!==this.d?(this.v.v[0]=[t,i-e],this.v.i[0]=[t-s*h,i-e],this.v.o[0]=[t+s*h,i-e],this.v.v[1]=[t+s,i],this.v.i[1]=[t+s,i-e*h],this.v.o[1]=[t+s,i+e*h],this.v.v[2]=[t,i+e],this.v.i[2]=[t+s*h,i+e],this.v.o[2]=[t-s*h,i+e],this.v.v[3]=[t-s,i],this.v.i[3]=[t-s,i+e*h],this.v.o[3]=[t-s,i-e*h]):(this.v.v[0]=[t,i-e],this.v.o[0]=[t-s*h,i-e],this.v.i[0]=[t+s*h,i-e],this.v.v[1]=[t-s,i],this.v.o[1]=[t-s,i+e*h],this.v.i[1]=[t-s,i-e*h],this.v.v[2]=[t,i+e],this.v.o[2]=[t+s*h,i+e],this.v.i[2]=[t-s*h,i+e],this.v.v[3]=[t+s,i],this.v.o[3]=[t+s,i-e*h],this.v.i[3]=[t+s,i+e*h]),this.paths.length=0,this.paths[0]=this.v}function i(t){var i,s=this.dynamicProperties.length;if(this.elem.globalData.frameId!==this.frameId){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId,i=0;i<s;i+=1)this.dynamicProperties[i].getValue(t),this.dynamicProperties[i].mdf&&(this.mdf=!0);this.mdf&&(this.convertEllToPath(),this.paths.length=0,this.paths[0]=this.v)}}var h=roundCorner;return function(h,e){this.v={v:Array.apply(null,{length:4}),i:Array.apply(null,{length:4}),o:Array.apply(null,{length:4}),c:!0},this.numNodes=4,this.d=e.d,this.dynamicProperties=[],this.paths=[],this.elem=h,this.comp=h.comp,this.frameId=-1,this.mdf=!1,this.getValue=i,this.convertEllToPath=t,this.reset=s,this.p=PropertyFactory.getProp(h,e.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(h,e.s,1,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertEllToPath()}}(),o=function(){function t(){var t=Math.floor(this.pt.v),i=2*Math.PI/t;this.v.v.length=t,this.v.i.length=t,this.v.o.length=t;var s,h=this.or.v,e=this.os.v,v=2*Math.PI*h/(4*t),r=-Math.PI/2,a=3===this.data.d?-1:1;for(r+=this.r.v,s=0;s<t;s+=1){var o=h*Math.cos(r),n=h*Math.sin(r),l=0===o&&0===n?0:n/Math.sqrt(o*o+n*n),p=0===o&&0===n?0:-o/Math.sqrt(o*o+n*n);o+=+this.p.v[0],n+=+this.p.v[1],this.v.v[s]=[o,n],this.v.i[s]=[o+l*v*e*a,n+p*v*e*a],this.v.o[s]=[o-l*v*e*a,n-p*v*e*a],r+=i*a}this.numNodes=t,this.paths.length=0,this.paths[0]=this.v}function i(){var t=2*Math.floor(this.pt.v),i=2*Math.PI/t;this.v.v.length=t,this.v.i.length=t,this.v.o.length=t;var s,h,e,v,r=!0,a=this.or.v,o=this.ir.v,n=this.os.v,l=this.is.v,p=2*Math.PI*a/(2*t),m=2*Math.PI*o/(2*t),f=-Math.PI/2;f+=this.r.v;var y=3===this.data.d?-1:1;for(s=0;s<t;s+=1){h=r?a:o,e=r?n:l,v=r?p:m;var c=h*Math.cos(f),d=h*Math.sin(f),g=0===c&&0===d?0:d/Math.sqrt(c*c+d*d),P=0===c&&0===d?0:-c/Math.sqrt(c*c+d*d);c+=+this.p.v[0],d+=+this.p.v[1],this.v.v[s]=[c,d],this.v.i[s]=[c+g*v*e*y,d+P*v*e*y],this.v.o[s]=[c-g*v*e*y,d-P*v*e*y],r=!r,f+=i*y}this.numNodes=t,this.paths.length=0,this.paths[0]=this.v}function h(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var t,i=this.dynamicProperties.length;for(t=0;t<i;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);this.mdf&&this.convertToPath()}}return function(e,v){this.v={v:[],i:[],o:[],c:!0},this.elem=e,this.comp=e.comp,this.data=v,this.frameId=-1,this.d=v.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=h,this.reset=s,1===v.sy?(this.ir=PropertyFactory.getProp(e,v.ir,0,0,this.dynamicProperties),this.is=PropertyFactory.getProp(e,v.is,0,.01,this.dynamicProperties),this.convertToPath=i):this.convertToPath=t,this.pt=PropertyFactory.getProp(e,v.pt,0,0,this.dynamicProperties),this.p=PropertyFactory.getProp(e,v.p,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(e,v.r,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(e,v.or,0,0,this.dynamicProperties),this.os=PropertyFactory.getProp(e,v.os,0,.01,this.dynamicProperties),this.paths=[],this.dynamicProperties.length?this.k=!0:this.convertToPath()}}(),n=function(){function t(t){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var i,s=this.dynamicProperties.length;for(i=0;i<s;i+=1)this.dynamicProperties[i].getValue(t),this.dynamicProperties[i].mdf&&(this.mdf=!0);this.mdf&&this.convertRectToPath()}}function i(){var t=this.p.v[0],i=this.p.v[1],s=this.s.v[0]/2,h=this.s.v[1]/2,e=bm_min(s,h,this.r.v),v=e*(1-roundCorner);0===e?(this.v.v.length=4,this.v.i.length=4,this.v.o.length=4):(this.v.v.length=8,this.v.i.length=8,this.v.o.length=8),2===this.d||1===this.d?(this.v.v[0]=[t+s,i-h+e],this.v.o[0]=this.v.v[0],this.v.i[0]=[t+s,i-h+v],this.v.v[1]=[t+s,i+h-e],this.v.o[1]=[t+s,i+h-v],this.v.i[1]=this.v.v[1],0!==e?(this.v.v[2]=[t+s-e,i+h],this.v.o[2]=this.v.v[2],this.v.i[2]=[t+s-v,i+h],this.v.v[3]=[t-s+e,i+h],this.v.o[3]=[t-s+v,i+h],this.v.i[3]=this.v.v[3],this.v.v[4]=[t-s,i+h-e],this.v.o[4]=this.v.v[4],this.v.i[4]=[t-s,i+h-v],this.v.v[5]=[t-s,i-h+e],this.v.o[5]=[t-s,i-h+v],this.v.i[5]=this.v.v[5],this.v.v[6]=[t-s+e,i-h],this.v.o[6]=this.v.v[6],this.v.i[6]=[t-s+v,i-h],this.v.v[7]=[t+s-e,i-h],this.v.o[7]=[t+s-v,i-h],this.v.i[7]=this.v.v[7]):(this.v.v[2]=[t-s+e,i+h],this.v.o[2]=[t-s+v,i+h],this.v.i[2]=this.v.v[2],this.v.v[3]=[t-s,i-h+e],this.v.o[3]=[t-s,i-h+v],this.v.i[3]=this.v.v[3])):(this.v.v[0]=[t+s,i-h+e],this.v.o[0]=[t+s,i-h+v],this.v.i[0]=this.v.v[0],0!==e?(this.v.v[1]=[t+s-e,i-h],this.v.o[1]=this.v.v[1],this.v.i[1]=[t+s-v,i-h],this.v.v[2]=[t-s+e,i-h],this.v.o[2]=[t-s+v,i-h],this.v.i[2]=this.v.v[2],this.v.v[3]=[t-s,i-h+e],this.v.o[3]=this.v.v[3],this.v.i[3]=[t-s,i-h+v],this.v.v[4]=[t-s,i+h-e],this.v.o[4]=[t-s,i+h-v],this.v.i[4]=this.v.v[4],this.v.v[5]=[t-s+e,i+h],this.v.o[5]=this.v.v[5],this.v.i[5]=[t-s+v,i+h],this.v.v[6]=[t+s-e,i+h],this.v.o[6]=[t+s-v,i+h],this.v.i[6]=this.v.v[6],this.v.v[7]=[t+s,i+h-e],this.v.o[7]=this.v.v[7],this.v.i[7]=[t+s,i+h-v]):(this.v.v[1]=[t-s+e,i-h],this.v.o[1]=[t-s+v,i-h],this.v.i[1]=this.v.v[1],this.v.v[2]=[t-s,i+h-e],this.v.o[2]=[t-s,i+h-v],this.v.i[2]=this.v.v[2],this.v.v[3]=[t+s-e,i+h],this.v.o[3]=[t+s-v,i+h],this.v.i[3]=this.v.v[3])),this.paths.length=0,this.paths[0]=this.v}return function(h,e){this.v={v:Array.apply(null,{length:8}),i:Array.apply(null,{length:8}),o:Array.apply(null,{length:8}),c:!0},this.idd=randomString(10),this.paths=[],this.numNodes=8,this.elem=h,this.comp=h.comp,this.frameId=-1,this.d=e.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=t,this.convertRectToPath=i,this.reset=s,this.p=PropertyFactory.getProp(h,e.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(h,e.s,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(h,e.r,0,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertRectToPath()}}(),l={};return l.getShapeProp=v,l}();