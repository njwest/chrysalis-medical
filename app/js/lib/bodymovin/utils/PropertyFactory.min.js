var PropertyFactory=function(){function t(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t=this.comp.renderedFrame-this.offsetTime;if(t===this.lastFrame||this.lastFrame!==p&&(this.lastFrame>=this.keyframes[this.keyframes.length-1].t-this.offsetTime&&t>=this.keyframes[this.keyframes.length-1].t-this.offsetTime||this.lastFrame<this.keyframes[0].t-this.offsetTime&&t<this.keyframes[0].t-this.offsetTime));else{for(var i,s,e=0,h=this.keyframes.length-1,r=1,a=!0;a;){if(i=this.keyframes[e],s=this.keyframes[e+1],e==h-1&&t>=s.t-this.offsetTime){i.h&&(i=s);break}if(s.t-this.offsetTime>t)break;e<h-1?e+=r:a=!1}var o,n,f,l,v,m=0;if(i.to){i.bezierData||bez.buildBezierData(i);var y=i.bezierData;if(t>=s.t-this.offsetTime||t<i.t-this.offsetTime){var d=t>=s.t-this.offsetTime?y.points.length-1:0;for(n=y.points[d].point.length,o=0;o<n;o+=1)this.v[o]=this.mult?y.points[d].point[o]*this.mult:y.points[d].point[o],this.pv[o]=y.points[d].point[o],this.lastPValue[o]!==this.pv[o]&&(this.mdf=!0,this.lastPValue[o]=this.pv[o])}else{i.__fnct?v=i.__fnct:(v=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,i.__fnct=v),f=v((t-(i.t-this.offsetTime))/(s.t-this.offsetTime-(i.t-this.offsetTime)));var c,g=y.segmentLength*f,u=0;for(r=1,a=!0,l=y.points.length;a;){if(u+=y.points[m].partialLength*r,0===g||0===f||m==y.points.length-1){for(n=y.points[m].point.length,o=0;o<n;o+=1)this.v[o]=this.mult?y.points[m].point[o]*this.mult:y.points[m].point[o],this.pv[o]=y.points[m].point[o],this.lastPValue[o]!==this.pv[o]&&(this.mdf=!0,this.lastPValue[o]=this.pv[o]);break}if(g>=u&&g<u+y.points[m+1].partialLength){for(c=(g-u)/y.points[m+1].partialLength,n=y.points[m].point.length,o=0;o<n;o+=1)this.v[o]=this.mult?(y.points[m].point[o]+(y.points[m+1].point[o]-y.points[m].point[o])*c)*this.mult:y.points[m].point[o]+(y.points[m+1].point[o]-y.points[m].point[o])*c,this.pv[o]=y.points[m].point[o]+(y.points[m+1].point[o]-y.points[m].point[o])*c,this.lastPValue[o]!==this.pv[o]&&(this.mdf=!0,this.lastPValue[o]=this.pv[o]);break}m<l-1&&1==r||m>0&&r==-1?m+=r:a=!1}}}else{var k,P,V,T,x,F=!1;for(h=i.s.length,e=0;e<h;e+=1){if(1!==i.h&&(i.o.x instanceof Array?(F=!0,i.__fnct||(i.__fnct=[]),i.__fnct[e]||(k=i.o.x[e]||i.o.x[0],P=i.o.y[e]||i.o.y[0],V=i.i.x[e]||i.i.x[0],T=i.i.y[e]||i.i.y[0])):(F=!1,i.__fnct||(k=i.o.x,P=i.o.y,V=i.i.x,T=i.i.y)),F?i.__fnct[e]?v=i.__fnct[e]:(v=BezierFactory.getBezierEasing(k,P,V,T).get,i.__fnct[e]=v):i.__fnct?v=i.__fnct:(v=BezierFactory.getBezierEasing(k,P,V,T).get,i.__fnct=v),f=t>=s.t-this.offsetTime?1:t<i.t-this.offsetTime?0:v((t-(i.t-this.offsetTime))/(s.t-this.offsetTime-(i.t-this.offsetTime)))),this.sh&&1!==i.h){var b=i.s[e],z=i.e[e];b-z<-180?b+=360:b-z>180&&(b-=360),x=b+(z-b)*f}else x=1===i.h?i.s[e]:i.s[e]+(i.e[e]-i.s[e])*f;1===h?(this.v=this.mult?x*this.mult:x,this.pv=x,this.lastPValue!=this.pv&&(this.mdf=!0,this.lastPValue=this.pv)):(this.v[e]=this.mult?x*this.mult:x,this.pv[e]=x,this.lastPValue[e]!==this.pv[e]&&(this.mdf=!0,this.lastPValue[e]=this.pv[e]))}}}this.lastFrame=t,this.frameId=this.elem.globalData.frameId}}function i(){}function s(t,s,e){this.mult=e,this.v=e?s.k*e:s.k,this.pv=s.k,this.mdf=!1,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.getValue=i}function e(t,s,e){this.mult=e,this.data=s,this.mdf=!1,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1,this.v=new Array(s.k.length),this.pv=new Array(s.k.length),this.lastValue=new Array(s.k.length);var h=Array.apply(null,{length:s.k.length});this.vel=h.map(function(){return 0});var r,a=s.k.length;for(r=0;r<a;r+=1)this.v[r]=e?s.k[r]*e:s.k[r],this.pv[r]=s.k[r];this.getValue=i}function h(i,s,e){this.keyframes=s.k,this.offsetTime=i.data.st,this.lastValue=-99999,this.lastPValue=-99999,this.frameId=-1,this.k=!0,this.kf=!0,this.data=s,this.mult=e,this.elem=i,this.comp=i.comp,this.lastFrame=p,this.v=e?s.k[0].s[0]*e:s.k[0].s[0],this.pv=s.k[0].s[0],this.getValue=t}function r(i,s,e){var h,r,a,o,n,f=s.k.length;for(h=0;h<f-1;h+=1)s.k[h].to&&s.k[h].s&&s.k[h].e&&(r=s.k[h].s,a=s.k[h].e,o=s.k[h].to,n=s.k[h].ti,(2===r.length&&(r[0]!==a[0]||r[1]!==a[1])&&bez.pointOnLine2D(r[0],r[1],a[0],a[1],r[0]+o[0],r[1]+o[1])&&bez.pointOnLine2D(r[0],r[1],a[0],a[1],a[0]+n[0],a[1]+n[1])||3===r.length&&(r[0]!==a[0]||r[1]!==a[1]||r[2]!==a[2])&&bez.pointOnLine3D(r[0],r[1],r[2],a[0],a[1],a[2],r[0]+o[0],r[1]+o[1],r[2]+o[2])&&bez.pointOnLine3D(r[0],r[1],r[2],a[0],a[1],a[2],a[0]+n[0],a[1]+n[1],a[2]+n[2]))&&(s.k[h].to=null,s.k[h].ti=null));this.keyframes=s.k,this.offsetTime=i.data.st,this.k=!0,this.kf=!0,this.mult=e,this.elem=i,this.comp=i.comp,this.getValue=t,this.frameId=-1,this.v=new Array(s.k[0].s.length),this.pv=new Array(s.k[0].s.length),this.lastValue=new Array(s.k[0].s.length),this.lastPValue=new Array(s.k[0].s.length),this.lastFrame=p}function a(t,i,a,o,n){var p;if(2===a)p=new f(t,i,n);else if(i.k.length)if("number"==typeof i.k[0])p=new e(t,i,o);else switch(a){case 0:p=new h(t,i,o);break;case 1:p=new r(t,i,o)}else p=new s(t,i,o);return p.k&&n.push(p),p}function o(t,i,s,e){return new v(t,i,s,e)}function n(t,i,s){return new m(t,i,s)}var p=-999999,f=function(){function t(){return this.p.k&&this.p.getValue(),this.p.v.key||(this.p.v.key=function(t){return this.p.v.numKeys?this.p.keyframes[t-1].t:0}.bind(this)),this.p.v.numKeys||(this.p.v.numKeys=this.p.keyframes?this.p.keyframes.length:0),this.p.v.valueAtTime||(this.p.v.valueAtTime=this.p.getValueAtTime.bind(this.p)),this.p.v}function i(){return this.px.k&&this.px.getValue(),this.px.v}function s(){return this.py.k&&this.py.getValue(),this.py.v}function e(){return this.a.k&&this.a.getValue(),this.a.v}function h(){return this.or.k&&this.or.getValue(),this.or.v}function r(){return this.r.k&&this.r.getValue(),this.r.v/degToRads}function a(){return this.s.k&&this.s.getValue(),this.s.v}function o(){return this.o.k&&this.o.getValue(),this.o.v}function n(){return this.sk.k&&this.sk.getValue(),this.sk.v}function p(){return this.sa.k&&this.sa.getValue(),this.sa.v}function f(t){var i,s=this.dynamicProperties.length;for(i=0;i<s;i+=1)this.dynamicProperties[i].getValue(),this.dynamicProperties[i].mdf&&(this.mdf=!0);this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function l(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t,i=this.dynamicProperties.length;for(t=0;t<i;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);if(this.mdf){if(this.v.reset(),this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&this.p.keyframes&&this.p.getValueAtTime){var s,e;this.p.lastFrame+this.p.offsetTime<this.p.keyframes[0].t?(s=this.p.getValueAtTime(this.p.keyframes[0].t+.01,0),e=this.p.getValueAtTime(this.p.keyframes[0].t,0)):this.p.lastFrame+this.p.offsetTime>this.p.keyframes[this.p.keyframes.length-1].t?(s=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t,0),e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t-.01,0)):(s=this.p.pv,e=this.p.getValueAtTime(this.p.lastFrame+this.p.offsetTime-.01,this.p.offsetTime)),this.v.rotate(-Math.atan2(s[1]-e[1],s[0]-e[0]))}this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function v(){this.inverted=!0,this.iv=new Matrix,this.k||(this.data.p.s?this.iv.translate(this.px.v,this.py.v,-this.pz.v):this.iv.translate(this.p.v[0],this.p.v[1],-this.p.v[2]),this.r?this.iv.rotate(-this.r.v):this.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.s&&this.iv.scale(this.s.v[0],this.s.v[1],1),this.a&&this.iv.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]))}function m(){}return function(y,d,c){this.elem=y,this.frameId=-1,this.dynamicProperties=[],this.mdf=!1,this.data=d,this.getValue=l,this.applyToMatrix=f,this.setInverted=v,this.autoOrient=m,this.v=new Matrix,d.p.s?(this.px=PropertyFactory.getProp(y,d.p.x,0,0,this.dynamicProperties),this.py=PropertyFactory.getProp(y,d.p.y,0,0,this.dynamicProperties),d.p.z&&(this.pz=PropertyFactory.getProp(y,d.p.z,0,0,this.dynamicProperties))):this.p=PropertyFactory.getProp(y,d.p,1,0,this.dynamicProperties),d.r?this.r=PropertyFactory.getProp(y,d.r,0,degToRads,this.dynamicProperties):d.rx&&(this.rx=PropertyFactory.getProp(y,d.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(y,d.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(y,d.rz,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(y,d.or,0,degToRads,this.dynamicProperties)),d.sk&&(this.sk=PropertyFactory.getProp(y,d.sk,0,degToRads,this.dynamicProperties),this.sa=PropertyFactory.getProp(y,d.sa,0,degToRads,this.dynamicProperties)),d.a&&(this.a=PropertyFactory.getProp(y,d.a,1,0,this.dynamicProperties)),d.s&&(this.s=PropertyFactory.getProp(y,d.s,1,.01,this.dynamicProperties)),d.o?this.o=PropertyFactory.getProp(y,d.o,0,.01,c):this.o={mdf:!1,v:1},this.dynamicProperties.length?c.push(this):(this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?d.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),Object.defineProperty(this,"position",{get:t}),Object.defineProperty(this,"xPosition",{get:i}),Object.defineProperty(this,"yPosition",{get:s}),Object.defineProperty(this,"orientation",{get:h}),Object.defineProperty(this,"anchorPoint",{get:e}),Object.defineProperty(this,"rotation",{get:r}),Object.defineProperty(this,"scale",{get:a}),Object.defineProperty(this,"opacity",{get:o}),Object.defineProperty(this,"skew",{get:n}),Object.defineProperty(this,"skewAxis",{get:p})}}(),l=function(){function t(t){if(this.prop.getValue(),this.cmdf=!1,this.omdf=!1,this.prop.mdf||t){var i,s,e,h=4*this.data.p;for(i=0;i<h;i+=1)s=i%4===0?100:255,e=Math.round(this.prop.v[i]*s),this.c[i]!==e&&(this.c[i]=e,this.cmdf=!0);if(this.o.length)for(h=this.prop.v.length,i=4*this.data.p;i<h;i+=1)s=i%2===0?100:1,e=i%2===0?Math.round(100*this.prop.v[i]):this.prop.v[i],this.o[i-4*this.data.p]!==e&&(this.o[i-4*this.data.p]=e,this.omdf=!0)}}function i(i,s,e){this.prop=a(i,s.k,1,null,[]),this.data=s,this.k=this.prop.k,this.c=Array.apply(null,{length:4*s.p});var h=s.k.k[0].s?s.k.k[0].s.length-4*s.p:s.k.k.length-4*s.p;this.o=Array.apply(null,{length:h}),this.cmdf=!1,this.omdf=!1,this.getValue=t,this.prop.k&&e.push(this),this.getValue(!0)}return function(t,s,e){return new i(t,s,e)}}(),v=function(){function t(t){var i=0,s=this.dataProps.length;if(this.elem.globalData.frameId!==this.frameId||t){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId;i<s;){if(this.dataProps[i].p.mdf){this.mdf=!0;break}i+=1}if(this.mdf||t)for("svg"===this.renderer&&(this.dasharray=""),i=0;i<s;i+=1)"o"!=this.dataProps[i].n?"svg"===this.renderer?this.dasharray+=" "+this.dataProps[i].p.v:this.dasharray[i]=this.dataProps[i].p.v:this.dashoffset=this.dataProps[i].p.v}}return function(i,s,e,h){this.elem=i,this.frameId=-1,this.dataProps=new Array(s.length),this.renderer=e,this.mdf=!1,this.k=!1,"svg"===this.renderer?this.dasharray="":this.dasharray=new Array(s.length-1),this.dashoffset=0;var r,a,o=s.length;for(r=0;r<o;r+=1)a=PropertyFactory.getProp(i,s[r].v,0,0,h),this.k=!!a.k||this.k,this.dataProps[r]={n:s[r].n,p:a};this.getValue=t,this.k?h.push(this):this.getValue(!0)}}(),m=function(){function t(){if(this.dynamicProperties.length){var t,i=this.dynamicProperties.length;for(t=0;t<i;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0)}var s=this.data.totalChars,e=2===this.data.r?1:100/s,h=this.o.v/e,r=this.s.v/e+h,a=this.e.v/e+h;if(r>a){var o=r;r=a,a=o}this.finalS=r,this.finalE=a}function i(t){var i=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,r=0,a=this.finalS,o=this.finalE,n=this.data.sh;if(2==n)r=o===a?t>=o?1:0:s(0,e(.5/(o-a)+(t-a)/(o-a),1)),r=i(r);else if(3==n)r=o===a?t>=o?0:1:1-s(0,e(.5/(o-a)+(t-a)/(o-a),1)),r=i(r);else if(4==n)o===a?r=t>=o?0:1:(r=s(0,e(.5/(o-a)+(t-a)/(o-a),1)),r<.5?r*=2:r=1-2*(r-.5)),r=i(r);else if(5==n){if(o===a)r=t>=o?0:1;else{var p=o-a;t=e(s(0,t+.5-a),o-a);var f=-p/2+t,l=p/2;r=Math.sqrt(1-f*f/(l*l))}r=i(r)}else 6==n?(o===a?r=t>=o?0:1:(t=e(s(0,t+.5-a),o-a),r=(1+Math.cos(Math.PI+2*Math.PI*t/(o-a)))/2),r=i(r)):(t>=h(a)&&(r=t-a<0?1-(a-t):s(0,e(o-t,1))),r=i(r));return r*this.a.v}var s=Math.max,e=Math.min,h=Math.floor;return this.mdf=!1,function(s,e,h){this.mdf=!1,this.k=!1,this.data=e,this.dynamicProperties=[],this.getValue=t,this.getMult=i,this.comp=s.comp,this.finalS=0,this.finalE=0,this.s=PropertyFactory.getProp(s,e.s||{k:0},0,0,this.dynamicProperties),"e"in e?this.e=PropertyFactory.getProp(s,e.e,0,0,this.dynamicProperties):this.e={v:2===e.r?e.totalChars:100},this.o=PropertyFactory.getProp(s,e.o||{k:0},0,0,this.dynamicProperties),this.xe=PropertyFactory.getProp(s,e.xe||{k:0},0,0,this.dynamicProperties),this.ne=PropertyFactory.getProp(s,e.ne||{k:0},0,0,this.dynamicProperties),this.a=PropertyFactory.getProp(s,e.a,0,.01,this.dynamicProperties),this.dynamicProperties.length?h.push(this):this.getValue()}}(),y={};return y.getProp=a,y.getDashProp=o,y.getTextSelectorProp=n,y.getGradientProp=l,y}();