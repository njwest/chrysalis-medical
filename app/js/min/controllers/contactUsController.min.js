"use strict";chrysalisApp.controller("ContactUsController",["$scope","$http","$log","$timeout",function(e,t,a,s){t.get("data/contactUsProfiles.json").success(function(t){e.profiles=t}),e.removeRedBorderDelayTimer=5e3,e.removeShakeClassDelayTimer=1250,e.formInputs=[angular.element(document.querySelector("#name-input")),angular.element(document.querySelector("#email-input")),angular.element(document.querySelector("#message-input"))],e.resetNameInput=function(){s(function(){e.formInputs[0].removeClass("ng-touched").addClass("ng-untouched")},e.removeRedBorderDelayTimer)},e.resetEmailInput=function(){s(function(){e.formInputs[1].removeClass("ng-touched").addClass("ng-untouched")},e.removeRedBorderDelayTimer)},e.resetMessageInput=function(){s(function(){e.formInputs[2].removeClass("ng-touched").addClass("ng-untouched")},e.removeRedBorderDelayTimer)},e.url="http://www.chrysalismedical.com/emailapi/api/email",e.successResponse="<i class='fa fa-check' aria-hidden='true'></i> Your message has been sent.",e.errorResponse="<i class='fa fa-exclamation-circle' aria-hidden='true'></i> An error has occurred. Please try again.",e.blankFieldError="<small><i class='fa fa-exclamation-circle' aria-hidden='true'></i> Please fill out all fields before clicking 'Submit'.</small>",e.emailError="<small><i class='fa fa-exclamation-circle' aria-hidden='true'></i> Please enter a valid email before clicking 'Submit'.</small>",e.removeShake=function(){document.getElementById("submit-btn").className="btn btn-success pull-right"},e.submit=function(){console.log("submit button clicked"),e.$watch("contact.name",function(e){}),void 0===e.contact||void 0===e.contact.name||void 0===e.contact.email||void 0===e.contact.message?(console.log(e.contact),document.getElementById("form-messages").className="bg-danger text-danger",document.getElementById("submit-btn").className="btn btn-success pull-right animated shake",s(function(){e.removeShake()},e.removeShakeClassDelayTimer),void 0===e.contact||void 0===e.contact.name||void 0===e.contact.message?document.getElementById("form-messages").innerHTML=e.blankFieldError:document.getElementById("form-messages").innerHTML=e.emailError):(e.jsondata={UserEmail:e.contact.email,UserName:e.contact.name,FromEmail:"test@n24i.com",ToEmail:"darryl.mendonez@nucleuscentral.com;",ReplyToEmail:"",CopyToEmail:"",Subject:"Chrysalis Contacts",EmailContent:e.contact.message},$.ajax({type:"POST",url:e.url,data:e.jsondata,success:function(t){document.getElementById("form-messages").removeClass("bg-danger text-danger shake zoomOut"),document.getElementById("form-messages").addClass("bg-success text-success bounceIn"),document.getElementById("form-messages").html(e.successResponse),$("#name").val(""),$("#email").val(""),$("#message").val(""),setTimeout(function(){removeBounceIn()},1e3),setTimeout(function(){addZoomOut()},1e4)},error:function(e){document.getElementById("form-messages").removeClass("bg-success text-success bounceIn zoomOut"),document.getElementById("form-messages").addClass("bg-danger text-danger shake"),document.getElementById("form-messages").html(errorResponse),setTimeout(function(){removeShake()},1e3),setTimeout(function(){addZoomOut()},1e4)}}))}}]);