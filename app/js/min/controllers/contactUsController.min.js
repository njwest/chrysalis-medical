"use strict";chrysalisApp.controller("ContactUsController",["$scope","$http","$log","$timeout",function(e,n,t,a){n.get("data/contactUsProfiles.json").success(function(n){e.profiles=n}),e.firstDelay="0.3s",e.secondDelay="1s",e.thirdDelay="1.7s",e.removeRedBorderDelayTimer=5e3,e.removeBtnAnimationClassDelayTimer=1250,e.formInputs=[angular.element(document.querySelector("#name-input")),angular.element(document.querySelector("#email-input")),angular.element(document.querySelector("#message-input"))],e.url="http://www.chrysalismedical.com/emailapi/api/email",e.resetNameInput=function(){e.formInputs[0].hasClass("ng-invalid")&&e.formInputs[0].removeClass("ng-untouched").addClass("invalid-input"),a(function(){e.formInputs[0].removeClass("ng-touched invalid-input").addClass("ng-untouched")},e.removeRedBorderDelayTimer)},e.resetEmailInput=function(){e.formInputs[1].hasClass("ng-invalid")&&e.formInputs[1].removeClass("ng-untouched").addClass("invalid-input"),a(function(){e.formInputs[1].removeClass("ng-touched invalid-input").addClass("ng-untouched")},e.removeRedBorderDelayTimer)},e.resetMessageInput=function(){e.formInputs[2].hasClass("ng-invalid")&&e.formInputs[2].removeClass("ng-untouched").addClass("invalid-input"),a(function(){e.formInputs[2].removeClass("ng-touched invalid-input").addClass("ng-untouched")},e.removeRedBorderDelayTimer)},e.successResponse="<i class='fa fa-check-circle' aria-hidden='true'></i> Your message has been sent.",e.errorResponse="<i class='fa fa-exclamation-circle' aria-hidden='true'></i> An error has occurred. Please try again.",e.blankFieldError="<small><i class='fa fa-exclamation-circle' aria-hidden='true'></i> Please fill out all fields before clicking 'Submit'.</small>",e.emailError="<small><i class='fa fa-exclamation-circle' aria-hidden='true'></i> Please enter a valid email before clicking 'Submit'.</small>",e.removeBtnAnimationClass=function(){document.getElementById("submit-btn").className="btn btn-success pull-right disabled-btn"},e.zoomOutDanger=function(){document.getElementById("form-messages").className="animated zoomOut bg-danger text-danger"},e.zoomOutSuccess=function(){document.getElementById("form-messages").className="animated zoomOut bg-success text-success"},e.zoomOutError=function(){document.getElementById("form-messages").className="animated zoomOut bg-danger text-danger"},e.removeZoomOut=function(){document.getElementById("form-messages").className="center-block text-center",document.getElementById("form-messages").innerHTML=""},e.submit=function(){if(void 0===e.contact||void 0===e.contact.name||void 0===e.contact.email||void 0===e.contact.message)document.getElementById("form-messages").className="bg-danger text-danger animated zoomIn",document.getElementById("submit-btn").className="btn btn-success pull-right animated shake disabled-btn",a(function(){e.removeBtnAnimationClass()},e.removeBtnAnimationClassDelayTimer),void 0===e.contact||void 0===e.contact.name||void 0===e.contact.message?(document.getElementById("form-messages").innerHTML=e.blankFieldError,a(e.zoomOutDanger,5e3)):(document.getElementById("form-messages").innerHTML=e.emailError,a(e.zoomOutDanger,5e3),a(e.removeZoomOut,6e3)),void 0===e.contact?(e.formInputs[0].addClass("ng-invalid ng-touched").removeClass("ng-valid ng-untouched"),e.formInputs[1].addClass("ng-invalid ng-touched").removeClass("ng-valid ng-untouched"),e.formInputs[2].addClass("ng-invalid ng-touched").removeClass("ng-valid ng-untouched")):(void 0===e.contact.name&&e.formInputs[0].addClass("ng-invalid ng-touched").removeClass("ng-valid ng-untouched"),void 0===e.contact.email&&e.formInputs[1].addClass("ng-invalid ng-touched").removeClass("ng-valid ng-untouched"),void 0===e.contact.message&&e.formInputs[2].addClass("ng-invalid ng-touched").removeClass("ng-valid ng-untouched")),e.resetNameInput(),e.resetEmailInput(),e.resetMessageInput();else{e.contactData={UserEmail:e.contact.email,UserName:e.contact.name,FromEmail:"test@n24i.com",ToEmail:"darryl.mendonez@nucleuscentral.com;",ReplyToEmail:"",CopyToEmail:"",Subject:"Chrysalis Contacts",EmailContent:e.contact.message},console.log("contactData = ",e.contactData);var t={method:"POST",url:e.url,headers:{"Content-Type":"application/json"},data:e.contactData};n(t).success(function(){e.formInputs[0].removeClass("ng-touched invalid-input").addClass("ng-untouched"),e.formInputs[1].removeClass("ng-touched invalid-input").addClass("ng-untouched"),e.formInputs[2].removeClass("ng-touched invalid-input").addClass("ng-untouched"),document.getElementById("form-messages").innerHTML=e.successResponse,document.getElementById("form-messages").className="bg-success text-success animated zoomIn",a(function(){e.removeBtnAnimationClass()},e.removeBtnAnimationClassDelayTimer),document.getElementById("name-input").value="",document.getElementById("email-input").value="",document.getElementById("message-input").value="",e.contact.name=void 0,e.contact.email=void 0,e.contact.message=void 0,a(e.zoomOutSuccess,5e3),a(e.removeZoomOut,6e3)}).error(function(){console.log("Email not sent"),document.getElementById("form-messages").innerHTML=e.errorResponse,document.getElementById("name-input").value="",document.getElementById("email-input").value="",document.getElementById("message-input").value="",e.contact.name=void 0,e.contact.email=void 0,e.contact.message=void 0,a(e.zoomOutError,5e3),a(e.removeZoomOut,6e3)})}}}]);